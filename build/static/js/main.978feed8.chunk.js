(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},41:function(e,t,a){},47:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(5),c=a.n(s),n=a(30),o=a.n(n),i=(a(36),a(10)),r=(a(37),a(21)),l=r.a.initializeApp({apiKey:"AIzaSyDr43OaGdFx2RbDCpsq9fLdV-jOAnGJdfQ",authDomain:"workout-journal-a7666.firebaseapp.com",projectId:"workout-journal-a7666",storageBucket:"workout-journal-a7666.appspot.com",messagingSenderId:"326318480180",appId:"1:326318480180:web:dceae5b2ad189f96f16361",measurementId:"G-WMK2X7JZ4S"});r.a.analytics();var u=l,d=(a(41),a(15)),j=a(17);d.b.add(j.a,j.c,j.d,j.e,j.b);var b=a(13),h=a(2);var p=function(e){var t=e.email,a=e.setEmail,s=e.password,c=e.setPassword,n=e.handleLogin,o=e.handleSignup,i=e.hasAccount,r=e.setHasAccount,l=e.emailError,u=e.passwordError,d=e.clearErrors,j=e.clearInputs;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"loginSection",children:[Object(h.jsx)("h2",{className:"loginTitle",children:"Login"}),Object(h.jsxs)("div",{className:"bottomSpace",children:[Object(h.jsx)("label",{className:"loginLabel",children:"Username"}),Object(h.jsxs)("div",{className:"loginPassword",children:[Object(h.jsx)(b.a,{icon:"user",size:"2x",className:"loginIcon"}),Object(h.jsx)("input",{className:"loginInput",type:"text",placeholder:"pseudo email address",autoFocus:!0,required:!0,value:t,onChange:function(e){a(e.target.value)}})]}),Object(h.jsx)("p",{className:"error",children:l})]}),Object(h.jsx)("label",{className:"loginLabel",children:"Password"}),Object(h.jsxs)("div",{className:"loginPassword",children:[Object(h.jsx)(b.a,{icon:"lock",size:"2x",className:"loginIcon"}),Object(h.jsx)("input",{className:"loginInput",type:"password",placeholder:"at least 6 characters",required:!0,value:s,onChange:function(e){c(e.target.value)}})]}),Object(h.jsx)("p",{className:"error",children:u}),Object(h.jsx)("div",{children:i?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"signBtn",onClick:n,children:"Sign In"}),Object(h.jsxs)("p",{className:"loginMessage",children:["Don't have an account ? ",Object(h.jsx)("span",{className:"signLabel",onClick:function(){r(!i),d(),j()},children:"Sign Up"})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"signBtn",onClick:o,children:"Sign Up"}),Object(h.jsxs)("p",{className:"loginMessage",children:["Have an account ? ",Object(h.jsx)("span",{className:"signLabel",onClick:function(){r(!i),d(),j()},children:"Sign In"})]})]})})]})})},O=(a(47),a(20).default);var m=function(e){var t=e.workoutID,a=e.description,c=e.date,n=Object(s.useState)(!1),o=Object(i.a)(n,2),r=o[0],l=o[1],u=Object(s.useState)(a),d=Object(i.a)(u,2),j=d[0],p=d[1],m=Object(s.useState)(c),f=Object(i.a)(m,2),x=f[0],g=f[1],v=Object(s.useState)(!1),k=Object(i.a)(v,2),N=k[0],w=k[1],S=function(){O.post("https://workout-journal-dl.herokuapp.com/deleteWorkout",{workoutID:t}).then((function(){}))};return Object(h.jsx)("div",{children:!N&&Object(h.jsx)("div",{children:r?Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"inputDate",defaultValue:c,onChange:function(e){g(e.target.value)}}),Object(h.jsx)("textarea",{className:"inputLog",defaultValue:a,onChange:function(e){p(e.target.value)}}),Object(h.jsxs)("div",{className:"editWDelete",children:[Object(h.jsx)("button",{className:"whiteBtn",onClick:function(e){e.preventDefault(),O.put("https://workout-journal-dl.herokuapp.com/updateWorkout",{workoutID:t,description:j,date:x}).then((function(){})),l(!1)},children:"save"}),Object(h.jsx)(b.a,{icon:"trash-alt",size:"2x",className:"icon trash",onClick:function(e){e.preventDefault(),S(),w(!0)}})]})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"inputDate",defaultValue:c,readOnly:!0}),Object(h.jsx)("textarea",{className:"inputLog",defaultValue:a,readOnly:!0}),Object(h.jsxs)("div",{className:"editWDelete",children:[Object(h.jsx)(b.a,{icon:"edit",size:"2x",className:"icon",onClick:function(e){e.preventDefault(),l(!r)}}),Object(h.jsx)(b.a,{icon:"trash-alt",size:"2x",className:"icon trash",onClick:function(e){e.preventDefault(),S(),w(!0)}})]})]})})})},f=(a(65),a(20).default);var x=function(e){var t=e.userID,a=Object(s.useState)(""),c=Object(i.a)(a,2),n=c[0],o=c[1],r=Object(s.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(s.useState)([]),p=Object(i.a)(j,2),O=p[0],x=p[1],g=Object(s.useState)([]),v=Object(i.a)(g,2),k=v[0],N=v[1],w=Object(s.useState)(!1),S=Object(i.a)(w,2),I=S[0],D=S[1];return Object(s.useEffect)((function(){f.post("https://workout-journal-dl.herokuapp.com/getWorkouts",{userID:t}).then((function(e){x(e.data)}));var e=new Date,a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear();d(e=s+"/"+a+"/"+c)}),[]),Object(h.jsxs)("div",{className:"panel",children:[Object(h.jsxs)("div",{className:"topPanel",children:[Object(h.jsx)("input",{className:"inputDate",defaultValue:u,onChange:function(e){d(e.target.value)}}),Object(h.jsx)("textarea",{className:"inputLog",value:n,placeholder:"Type in your workout and log it!",onChange:function(e){o(e.target.value)}}),I&&Object(h.jsx)("p",{className:"error",children:"field is empty"}),Object(h.jsxs)("div",{className:"labelPlusBtn",children:[Object(h.jsx)("label",{className:"logLabel",children:"Log Workout"}),Object(h.jsx)(b.a,{icon:"plus-square",size:"2x",className:"icon plus",onClick:function(e){e.preventDefault(),""!==n&&""!==u?(f.post("https://workout-journal-dl.herokuapp.com/addWorkout",{userID:t,description:n,date:u}).then((function(e){N([].concat(Object(h.jsx)(m,{workoutID:e.data.insertId,description:n,date:u,userID:t},e.data.insertId)).concat(k))})),o(""),D(!1)):D(!0)}})]})]}),Object(h.jsxs)("div",{className:"scroll",children:[k,O.map((function(e){return Object(h.jsx)(m,{workoutID:e.workoutID,description:e.description,date:e.date,userID:t},e.workoutID)}))]})]})},g=a(20).default;var v=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),o=Object(i.a)(n,2),r=o[0],l=o[1],d=Object(s.useState)(""),j=Object(i.a)(d,2),b=j[0],O=j[1],m=Object(s.useState)(""),f=Object(i.a)(m,2),v=f[0],k=f[1],N=Object(s.useState)(""),w=Object(i.a)(N,2),S=w[0],I=w[1],D=Object(s.useState)(!1),C=Object(i.a)(D,2),L=C[0],E=C[1],y=Object(s.useState)(0),P=Object(i.a)(y,2),W=P[0],A=P[1],B=Object(s.useState)(!0),F=Object(i.a)(B,2),z=F[0],U=F[1],V=function(){l(""),O("")},M=function(){k(""),I("")};Object(s.useEffect)((function(){u.auth().onAuthStateChanged((function(e){e?(V(),c(e)):c("")}))}),[]);var q,H=function(e){e&&""!==e&&g.post("https://workout-journal-dl.herokuapp.com/getUserInfo",{username:e}).then((function(e){e.data[0]&&A(e.data[0].userID)}))};return Object(s.useEffect)((function(){0===W&&""!==a&&g.post("https://workout-journal-dl.herokuapp.com/getUserInfo",{username:a.email}).then((function(e){e.data[0]&&A(e.data[0].userID)}))}),[a]),Object(s.useEffect)((function(){g.get("https://workout-journal-dl.herokuapp.com/").then((function(){U(!1)}))}),[]),Object(h.jsxs)("div",{children:[z&&Object(h.jsx)("div",{className:"sleepCover",children:Object(h.jsxs)("div",{className:"sleepScreen",children:[Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("div",{className:"snippet","data-title":".dot-spin",children:Object(h.jsx)("div",{className:"stage",children:Object(h.jsx)("div",{className:"dot-spin"})})})}),Object(h.jsx)("p",{children:"Connecting to server"}),Object(h.jsx)("p",{children:"Please wait a few seconds"}),Object(h.jsx)("p",{children:"Backend hosted on Heroku"})]})}),a?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("p",{children:(q=a.email,"Welcome, "+q.split("@")[0])}),Object(h.jsx)("button",{className:"roundedBtn",onClick:function(){u.auth().signOut(),A(0)},children:"Logout"})]}),Object(h.jsx)("div",{children:0!==W&&Object(h.jsx)(x,{userID:W})})]}):Object(h.jsx)(p,{email:r,setEmail:l,password:b,setPassword:O,handleLogin:function(){M();var e=!1;u.auth().signInWithEmailAndPassword(r,b).catch((function(t){switch(e=!0,t.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":k(t.message);break;case"auth/wrong-password":I(t.message)}})).then((function(){e||H(r)}))},handleSignup:function(){M();var e=!1;u.auth().createUserWithEmailAndPassword(r,b).catch((function(t){switch(e=!0,t.code){case"auth/email-already-in-use":case"auth/invalid-email":k(t.message);break;case"auth/weak-password":I(t.message)}})).then((function(){e||g.post("https://workout-journal-dl.herokuapp.com/addUser",{username:r}).then((function(){H(r)}))}))},hasAccount:L,setHasAccount:E,emailError:v,passwordError:S,clearErrors:M,clearInputs:V})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,o=t.getTTFB;a(e),s(e),c(e),n(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),k()}},[[66,1,2]]]);
//# sourceMappingURL=main.978feed8.chunk.js.map